# Coralogix OpenTelemetry Configuration for Django
# Copy this file to .env and adjust the values

# === BASIC CONFIGURATION ===
OTEL_SERVICE_NAME=django-service
OTEL_SERVICE_VERSION=1.0.0
APP_ENVIRONMENT=production

# === CORALOGIX ENDPOINTS ===
# Replace with your Coralogix endpoint
OTEL_EXPORTER_OTLP_ENDPOINT=https://ingress.coralogix.com:443
OTEL_EXPORTER_OTLP_PROTOCOL=grpc

# === AUTHENTICATION ===
# Replace with your Coralogix API key
OTEL_EXPORTER_OTLP_HEADERS=Authorization=Bearer YOUR_CORALOGIX_API_KEY

# === SAMPLING ===
# For production, consider using a lower sampling rate
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0  # 100% for debugging, reduce for production

# === EXPORTERS ===
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp
OTEL_LOGS_EXPORTER=otlp

# === INSTRUMENTATIONS ===
OTEL_PYTHON_DJANGO_INSTRUMENT=true
OTEL_PYTHON_REQUESTS_INSTRUMENT=true
OTEL_PYTHON_PSYCOPG2_INSTRUMENT=true
OTEL_PYTHON_LOGGING_AUTO_INSTRUMENTATION_ENABLED=true

# === OPTIONAL INSTRUMENTATIONS ===
# Uncomment if using Kafka
# OTEL_PYTHON_KAFKA_INSTRUMENT=true
# OTEL_PYTHON_KAFKA_PYTHON_INSTRUMENT=true

# === LOGGING ===
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=INFO
OTEL_LOG_LEVEL=INFO
OTEL_PYTHON_LOG_CORRELATION=true

# === PERFORMANCE TUNING ===
OTEL_BSP_SCHEDULE_DELAY=5000
OTEL_BSP_MAX_QUEUE_SIZE=2048
OTEL_BSP_MAX_EXPORT_BATCH_SIZE=512
OTEL_BSP_EXPORT_TIMEOUT=30000
OTEL_METRIC_EXPORT_INTERVAL=30000

# === PROPAGATION ===
OTEL_PROPAGATORS=tracecontext,baggage